# 云开发 quickstart

这是云开发的快速启动指引，其中演示了如何上手使用云开发的三大基础能力：

- 数据库：一个既可在小程序前端操作，也能在云函数中读写的 JSON 文档型数据库
- 文件存储：在小程序前端直接上传/下载云端文件，在云开发控制台可视化管理
- 云函数：在云端运行的代码，微信私有协议天然鉴权，开发者只需编写业务逻辑代码

## 参考文档

- [云开发文档](https://developers.weixin.qq.com/miniprogram/dev/wxcloud/basis/getting-started.html)

## 说明

一、功能：
用户小区人员信息录入、检查
用户扫社区二维码注册到社区关系中，并设置自己的楼号以及单元房号注册信息；
用户身份分为两大类 管理员与住户
1、管理者可以创建 社区  并生成二维码，可以扫描住户信息二维码进行用户校验
2、住户可以注册个人信息，生成住户信息二维码，可以扫描社区二维码加入社区

二、后台数据
1、社区数据表 
社区 id ， 社区 name，管理员 id，社区所属街道 ,所含楼宇 id 列表
2、楼宇数据表
楼宇 id，管理员 id，所属社区 id，单元 id，单元名，
3、单元数据表
单元 id ，所属楼宇 id，房号 id，
4、居房数据表
居房 id，房号str，人员id 列表，
2、住户表
住户 id，所属社区 id，姓名，性别，籍贯，年龄

三、使用流程
1、初始化
   开启小程序、获取微信用户信息，获取用户 id，
2、身份检查
   请求后台，获取身份数据，如果没有身份数据，显示信息补全界面，完善信息填写 姓名，性别等住户信息
   如果没有社区信息，显示 创建社区、加入社区两个选项
   创建社区->创建社区界面，填写社区名称，楼宇信息（选填），默认创建者为管理者
   加入社区界面-> 扫码界面
3、管理员身份 
    管理员界面  1、人员核查 2、添加社区人员（显示二维码 用户扫码）
4、住户身份
    住户界面 1、加入社区 （扫社区二维码）2、显示信息二维码

5、住户扫社区二维码 执行加入社区操作
   扫码获取社区 id，跳转社区信息选择页面  选择楼号、单元、房号、填写联系电话
   点击提交，1补全用户信息表，2居房表信息补全
   完成加入社区
6、住户出示信息二维码，管理员扫码，获取租户 社区信息，楼号，房号，姓名
    

